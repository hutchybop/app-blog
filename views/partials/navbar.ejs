<nav class="navbar navbar-expand-md sticky-top navbar-dark bg-dark">
    <div class="container-fluid">

        <a id='home' class="navbar-brand" href="/">&Eta;&beta;</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">

            <div class="navbar-nav ms-auto">
                <% if(typeof currentUser === 'undefined') {%>
                <a class="nav-link" href="/auth/login">Login</a>
                <a class="nav-link" href="/auth/register">Register</a>
                <% } else {%>
                <% if(currentUser.role === 'admin' || currentUser.username === 'longrunner') { %>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-warning" href="#" id="adminDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" title="Admin Panel">
                            <i class="fas fa-shield-alt"></i> Admin
                        </a>
                        <div class="dropdown-menu" aria-labelledby="adminDropdown">
                            <!-- Main Admin Pages -->
                            <h6 class="dropdown-header">Admin Dashboard</h6>
                            <a class="dropdown-item" href="/admin">
                                <i class="fas fa-tachometer-alt"></i> Dashboard
                            </a>
                            
                            <!-- Content Management -->
                            <div class="dropdown-divider"></div>
                            <h6 class="dropdown-header">Content Management</h6>
                            <a class="dropdown-item" href="/admin/posts">
                                <i class="fas fa-blog"></i> Manage Posts
                            </a>
                            <a class="dropdown-item" href="/admin/posts/new">
                                <i class="fas fa-plus"></i> Create New Post
                            </a>
                            
                            <!-- Review Management -->
                            <div class="dropdown-divider"></div>
                            <h6 class="dropdown-header">Review Management</h6>
                            <a class="dropdown-item" href="/admin/flagged-reviews">
                                <i class="fas fa-flag text-warning"></i> Flagged Reviews
                            </a>
                            <a class="dropdown-item" href="/admin/all-reviews">
                                <i class="fas fa-comments"></i> All Reviews
                            </a>
                        </div>
                    </li>
                <% } %>
                <a class='nav-link' href='/auth/details'>Hi <%=currentUser.username%></a>
                <a class="nav-link" href="/auth/logout">Logout</a>
                <% } %>
            </div>
        </div>
    </div>
</nav>
